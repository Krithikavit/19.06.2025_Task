<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EMI Calculator for Home Loan</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f7f7f7;
            margin: 0;
            padding: 0;
        }

        .header {
            background: #f37021;
            color: white;
            text-align: center;
            padding: 30px 20px 20px;
        }

            .header h1 {
                margin: 0;
                font-size: 28px;
            }

            .header p {
                margin: 10px 0 0;
                font-size: 14px;
                max-width: 800px;
                margin-left: auto;
                margin-right: auto;
            }

        .container {
            max-width: 1100px;
            background: white;
            margin: 0 auto 30px;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .section {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }

        .form-section {
            flex: 1 1 60%;
            padding-right: 20px;
        }

        .chart-section {
            flex: 1 1 35%;
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            gap: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
        }

        input[type=range] {
            width: 100%;
        }

        .scale-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #777;
            margin-top: 4px;
        }

        .value-display {
            font-size: 16px;
            margin-top: 5px;
        }

        .color-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 10px;
        }

            .color-legend div {
                display: flex;
                align-items: center;
                font-size: 14px;
            }

            .color-legend span.box {
                display: inline-block;
                width: 14px;
                height: 14px;
                margin-right: 6px;
            }

        .legend {
            font-size: 14px;
            text-align: left;
            margin-top: 30px;
        }

            .legend div {
                margin-bottom: 12px;
            }

            .legend span.box {
                display: inline-block;
                width: 14px;
                height: 14px;
                margin-right: 6px;
                vertical-align: middle;
            }

        .maroon {
            background: #B22222;
        }

        .orange {
            background: #FFA500;
        }

        canvas {
            max-width: 180px;
        }

        .right-column {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .emi-box {
            margin: 20px 0 10px;
            background: #ffe7b2;
            color: #000;
            font-size: 18px;
            padding: 12px 20px;
            border-radius: 8px;
            text-align: center;
            width: max-content;
        }

        .apply-box {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

            .apply-box button {
                background: #f37021;
                color: white;
                padding: 12px 24px;
                font-size: 16px;
                border: none;
                border-radius: 6px;
                cursor: pointer;
            }
    </style>
</head>
<body>
    <div class="header">
        <h1>Calculate Home Loan EMI</h1>
        <p>Use our Home Loan Calculator to get insights on your loan EMI. Just select an amount, set an approximate interest rate and tenure below. The Home Loan EMI Calculator will calculate the monthly EMI amount & total interest payable to find the best terms.</p>
    </div>
    <div class="container">
        <div class="section">
            <div class="form-section">
                <div class="form-group">
                    <label>Select the loan amount range</label>
                    <input type="radio" checked> 0 - 1 Crore
                    <input type="radio"> 1 Crore - 5 Crore
                    <input type="radio"> 5 Crore - 30 Crore
                </div>
                <div class="form-group">
                    <label>Loan Amount</label>
                    <input type="range" id="loanAmount" min="0" max="10000000" step="100000" value="2300000">
                    <div class="scale-labels">
                        <span>0L</span><span>20L</span><span>40L</span><span>60L</span><span>80L</span><span>1Cr</span>
                    </div>
                    <div class="value-display">&#8377; <span id="loanAmountValue">2300000</span></div>
                </div>
                <div class="form-group">
                    <label>Illustrative Interest Rate p.a.</label>
                    <input type="range" id="interestRate" min="1" max="20" step="0.1" value="4">
                    <div class="scale-labels">
                        <span>1%</span><span>5%</span><span>15%</span><span>20%</span>
                    </div>
                    <div class="value-display"><span id="interestRateValue">4</span>%</div>
                </div>
                <div class="form-group">
                    <label>Tenure ( Months Years )</label>
                    <input type="range" id="loanTenure" min="1" max="30" value="13">
                    <div class="scale-labels">
                        <span>1year</span><span>30year</span>
                    </div>
                    <div class="value-display"><span id="loanTenureValue">13</span> years</div>
                </div>
            </div>

            <div class="chart-section">
                <div class="legend">
                    <div><span class="box maroon"></span>Principal Amount:<br>&#8377; <span id="principalAmount"></span></div>
                    <div><span class="box orange"></span>Interest Amount:<br>&#8377; <span id="interestAmount"></span></div>
                    <div><strong>Total Amount:<br>&#8377; <span id="totalAmount"></span></strong></div>
                </div>
                <div class="right-column">
                    <div class="color-legend">
                        <div><span class="box maroon"></span>Principal</div>
                        <div><span class="box orange"></span>Interest</div>
                    </div>
                    <canvas id="emiChart"></canvas>
                    <div class="emi-box">
                        Your Monthly EMI is &#8377; <span id="emiResult"></span>
                    </div>
                    <div class="apply-box">
                        <button>APPLY FOR HOME LOAN</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const loanAmount = document.getElementById('loanAmount');
        const interestRate = document.getElementById('interestRate');
        const loanTenure = document.getElementById('loanTenure');

        const loanAmountValue = document.getElementById('loanAmountValue');
        const interestRateValue = document.getElementById('interestRateValue');
        const loanTenureValue = document.getElementById('loanTenureValue');

        const emiResult = document.getElementById('emiResult');
        const totalAmount = document.getElementById('totalAmount');
        const principalAmount = document.getElementById('principalAmount');
        const interestAmount = document.getElementById('interestAmount');

        const ctx = document.getElementById('emiChart').getContext('2d');
        let chart;

        function calculateEMI() {
            const principal = parseFloat(loanAmount.value);
            const rate = parseFloat(interestRate.value);
            const years = parseInt(loanTenure.value);

            const monthlyRate = rate / 12 / 100;
            const months = years * 12;

            const emi = (principal * monthlyRate * Math.pow(1 + monthlyRate, months)) / (Math.pow(1 + monthlyRate, months) - 1);
            const total = emi * months;
            const interest = total - principal;

            emiResult.textContent = emi.toFixed(2);
            totalAmount.textContent = total.toFixed(2);
            principalAmount.textContent = principal.toFixed(2);
            interestAmount.textContent = interest.toFixed(2);

            updateChart(principal, interest);
        }

        function updateChart(principal, interest) {
            if (chart) chart.destroy();
            chart = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: ['Principal', 'Interest'],
                    datasets: [{
                        data: [principal, interest],
                        backgroundColor: ['#B22222', '#FFA500']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        loanAmount.addEventListener('input', () => {
            loanAmountValue.textContent = parseInt(loanAmount.value).toLocaleString('en-IN');
            calculateEMI();
        });
        interestRate.addEventListener('input', () => {
            interestRateValue.textContent = interestRate.value;
            calculateEMI();
        });
        loanTenure.addEventListener('input', () => {
            loanTenureValue.textContent = loanTenure.value;
            calculateEMI();
        });

        window.onload = calculateEMI;
    </script>
</body>
</html>
